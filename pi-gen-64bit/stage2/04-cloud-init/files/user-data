#cloud-config

# Set the hostname for this device. This will also update /etc/hosts if manage_etc_hosts is enabled.
hostname: pwnagotchi
manage_etc_hosts: true

# Raspberry Piâ€“specific options (provided by the cc_raspberry_pi module)
rpi:
    enable_usb_gadget: true # Enable rpi-usb-gadget
    spi: true               # Enable SPI interface
    i2c: true               # Enable I2C interface
    serial: true            # Enable serial console and UART interface
    onewire: true           # Enable 1-Wire interface

# Create a default user account and apply permissions
users:
  - name: pi
    groups: users,adm,dialout,audio,netdev,video,plugdev,cdrom,games,input,gpio,spi,i2c,render,sudo
    shell: /bin/bash
    lock_passwd: false  # Set to true to disable password login entirely
    plain_text_password: raspberry  # Alternatively, use 'passwd:' with a hashed password for better security
    # ssh_authorized_keys:
    #  - ssh-ed25519 mykeystuff  # Replace with your actual SSH public key
    sudo: ALL=(ALL) NOPASSWD:ALL  # Allow passwordless sudo for this user

# Additional Raspberry Pi OS option (not available on generic cloud-init images)
enable_ssh: true